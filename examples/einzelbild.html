<!doctype HTML>
<html>
    <head>
        <title>Einzelbild zeichnen</title>
    </head>
    <body>
        <video id='video' style='width: 640px; height: 480px' autoplay></video>
        <canvas id='picture' style='width: 640px; height: 480px'></canvas>
        <script src='js/webcam.js'></script>
        <script>
            var interval;

            document.addEventListener( 'DOMContentLoaded', function(){
                document.body.appendChild( createCanvas() );

                grabWebcam()
                .then( ( stream ) => {
                    let videoElement = document.getElementById( 'video' );
                    video.srcObject = stream;

                    interval = setInterval( function(){
                        let ctx = document.getElementById( 'picture' ).getContext( '2d' );

                        ctx.drawImage( videoElement, 0, 0, 640, 480, 0, 0, 640, 480 );
                    }, 1000 );
                });
            });
        </script>
    </body>
</html>